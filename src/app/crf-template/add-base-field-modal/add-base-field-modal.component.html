<h2 mat-dialog-title>Add New BaseField</h2>

<mat-dialog-content>
  <!-- Field Name -->
  <div class="form-group">
    <label for="fieldName">Field Name</label>
    <input id="fieldName" matInput [(ngModel)]="data.name" placeholder="Enter field name" />
  </div>

  <!-- Field Type -->
  <div class="form-group">
    <label for="fieldType">Field Type</label>
    <mat-select id="fieldType" [(ngModel)]="data.type" placeholder="Select a type" (selectionChange)="onTypeChange()">
      <mat-option *ngFor="let type of data.fieldTypes" [value]="type">
        {{ type.name }}
      </mat-option>
    </mat-select>
  </div>

  <!-- Dropdown Choices (if type is Dropdown) -->
  <div *ngIf="data.type.name === 'DropDown'" class="form-group">
    <label for="choices">Dropdown Choices</label>
    <div *ngFor="let choice of data.choices; let i = index" class="choice-item">
      <input id="choices" matInput [(ngModel)]="data.choices[i]" placeholder="Enter choice {{ i + 1 }}" />
      <button mat-icon-button color="warn" (click)="removeChoice(i)">
        <mat-icon>delete</mat-icon>
      </button>
    </div>
    <button mat-button (click)="addChoice()">Add Choice</button>
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Cancel</button>
  <button mat-button color="primary" (click)="save()">Save</button>
</mat-dialog-actions>
